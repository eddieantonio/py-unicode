<!doctype html>
<html lang="en_CA">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Unicode and You! An Introduction to Unicode in Python</title>
		<meta name="author" content="Eddie Antonio Santos, @eddieantonio">
		<meta name="description" content="Slides for an introduction to using Unicode in Python 3.">
		<meta name="keywords" content="unicode, python, python3, encoding"/>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

<!-- Preparation:

	1. Open in Safari to render Cuneiform....

	Terminal open with a few tabs:

		1. Python 2 prompt: "Dzie≈Ñ dobry" == u"Dzie≈Ñ dobry"
		2. Python 3 prompt: s = "AŒ©Ë™ûêéÑ"
		3. Command line with export LC_ALL=fr_CA.ISO8859-1, and an editor open to curie.py

-->

<section>
	<div data-markdown>
# Unicode and You!

## An Introduction to **Unicode** in **Python**

Eddie Antonio Santos
	</div>

<small>Special thanks to Jessica Malik!</small>
</section>
<!-- What IS Unicode? -->

<section data-markdown>
# What even *is* Unicode?
</section>

<section>
	<h2>Isn't Unicode all those √ß…¶√•—è√§c·π±«ùr≈ù that aren't in ASCII?</h2>

	<p class="fragment">
		No! It's all those characters <em>including</em> ASCII.
	</p>
</section>

<section>
	<h2>Isn't Unicode a <strong>character encoding</strong>?</h2>

	<p class="fragment">
		No! It supports <em> many </em> character encodings!
	</p>
</section>

<section>
	<h2> Isn't Unicode that emoji üí© company? </h2>

	<p class="fragment">
		Sort of! They are a <em>consortium</em> that standardizes text, characters, and
		emoji!
		</p>
	</section>
	
	<section>
	<h2> Unicode is frustrating </h2>

	<p class="fragment">
		Sometimes‚ÄîBut knowing is half the battle!
	</p>
</section>

<section>
	<h2> What is Unicode? </h2>

	<ul>
		<li class="fragment"> Standard for representing text in computers </li>
		<li class="fragment"> Maps a <em>code point</em> to every character.
			<span class="fragment"> Ever. </span>
		</li>
		<li class="fragment"> Database of properties for each character </li>
	</ul>
</section>

<section data-markdown>
	# How do I use Unicode in Python?
</section>

<!-- How to use Unicode in Python -->
<section>
	<h2> How to use Unicode in Python 3</h2>

	<div class="fragment" data-markdown>
```python
"Hello, World!"
```
	</div>
	<div class="fragment" data-markdown>
```python
"Dzie≈Ñ dobry!"
```
	</div>
	<div class="fragment" data-markdown>
```python
"·ëñ·ìÇ·ìØ"
```
	</div>
	<div class="fragment" data-markdown>
```python
"Hello, üåé!"
```
	</div>
</section>

<section>
	<h2> How to use Unicode in Python 2*</h2>

	<div class="fragment" data-markdown>
```python
u"Hello, World!"
```
	</div>
	<div class="fragment" data-markdown>
```python
u"Dzie≈Ñ dobry!"
```
	</div>
	<div class="fragment" data-markdown>
```python
u"·ëñ·ìÇ·ìØ"
```
	</div>
	<div class="fragment" data-markdown>
```python
u"Hello, üåé!"
```
	</div>
	<small>*you must specify the source file's <code>coding</code> at the top of the file</small>
</section>

<section data-markdown>
## In Python 2:

`"Dzie≈Ñ dobry!" != u"Dzie≈Ñ dobry!"`

</section>

<section>
	<h2> Recommendation </h2>

	<p> Use <strong>Python 3</strong> </p>
</section>

<section>
	<h1> Unicode characters </h1>
</section>

<section>
	<h2> What is a character? </h2>

	<p class="fragment"> letter, digit, punctuation, symbol </p>
	<p class="fragment"> space, formatting, control character </p>
</section>

<!-- A: Unicode U+xxxx and U+xxxxxx and names  -->
<section>
	<h2> How are characters represented in Unicode? </h2>

	<p class="fragment"> A number called a <strong>Code point</strong> </p>
	<ul>
		<li class="fragment"> A <span class="fragment">= U+0041</span> </li>
		<li class="fragment"> Œ© <span class="fragment">= U+03A9</span> </li>
		<li class="fragment"> Ë™û <span class="fragment">= U+8A9E</span> </li>
		<li class="fragment"> êéÑ  <span class="fragment">= U+10384</span> </li>
	</ul>
	<p class="fragment">1,114,112 total; 137,374 (12.33%) used <br>
	<small>
		(<a href="http://www.unicode.org/versions/Unicode11.0.0/">As of version 11.0</a>)
	</small>
	</p>
</section>

<!-- Q: What is a code point -->
<section>
	<h2> How do I get code points in Python? </h2>
	<p class="fragment"> <code> ord() </code> </p>
	<!-- DEMO:
	s = "AŒ©Ë™ûêéÑ"
	-->
</section>

<section>
	<h2> What other <em>properties</em> do characters have? </h2>
	<p class="fragment">name: <code> unicodedata.name() </code> </p>
	<!-- DEMO:
		from unicodedata import name, category
	-->
	<p class="fragment">general category: <code> unicodedata.category() </code> </p>
</section>

<section>
	<h2> Typing Unicode characters in Python </h2>
	<p class="fragment"> Directly! </p>
	<p class="fragment"> By hex code: <code>"\uXXXX"</code> or <code>"\U000XXXXX"</code> </p>
	<!-- DEMO:
	print('\U0001F4A9')
	"\N{LATIN CAPITAL LETTER E}"
	print('_'.join("\N{KANNADA LETTER TTHA") * 2)
	-->
	<p class="fragment"> By name: <code>"\N{NAME}"</code> </p>
</section>

<section>
	<h1> Unicode outside of Python </h1>
</section>

<!-- Overview slide -->
<section>
	<img src="./assets/outside-world.png" alt="Outside world"
		style="border: 0; box-shadow: none">
</section>

<section>
	<h2> Character Encoding </h2>
	<p class="fragment"> code points ‚¨å bytes </p>
	<p class="fragment"> character != byte </p>
</section>

<!-- Encodings in the wild -->
<section>
	<img src="./assets/encoding-collage.png" alt="Character encodings"
		style="border: 0; box-shadow: none; max-width: 95vw">
</section>

<section>
	<h2> Explosion of character encodings! </h2>
	<p class="fragment"> Latin-1 == ISO 8859-1 ‚äÜ Windows Code Page 1252 </p>
	<p class="fragment"> ISO 8859-2 </p>
	<p class="fragment"> Windows Code Page 1251 </p>
	<p class="fragment"> Macintosh Western == MacRoman </p>
	<p class="fragment"> Shift-JIS (several) </p>
	<p class="fragment"> EBCDIC (several) </p>
	<p class="fragment"> GB 2312 </p>
	<p class="fragment"> Big5 </p>
	<p class="fragment"> ... </p>
</section>

<!-- start example -->
<section>
	<h2> A letter written by Madame <strong>Marie Curie</strong> </h2>
	<img src="./assets/Marie_Curie_(Nobel-Chem).jpg" alt="Marie Curie"
		style="max-height: 60vh">
	<!-- DEMO: curie.py
		1. Make sure LC_ALL is set to "fr_CA.ISO8859-1"
		2. Run the program to save the file
		3. Open up the file in an editor
		4. Now, add "Sk≈Çodowska" to it.
		5. Run the program again. Discuss the error.
		6. Delete "Sk≈Çodowska" and add "≈ì" to "boef"
		7. Run the program again.

		Fix both issues with UTF-8.
	-->
</section>

<section>
	<h2> Recommendation </h2>

	<p> Use <strong>UTF-8</strong> character encoding </p>
	<p class="fragment"> UTF-8 Supports ALL Unicode characters </p>
	<p class="fragment"> Backwards compatible with ASCII </p>
</section>

<section>
	<h2> Recommendation </h2>

	<p> Always <strong>explicitly</strong> specify the character encoding </p>
<div class="fragment" data-markdown>
```python
# -*- coding: UTF-8 -*-
```
</div>
<div class="fragment" data-markdown>
```python
open("filename", "w", encoding="UTF-8")
```
</div>
<div class="fragment" data-markdown>
```python
socket.write("¬øQu√© haremos ma√±ana?".encode("UTF-8"))
```
</div>
<div class="fragment" data-markdown>
```html
&lt;meta charset="UTF-8"&gt;
```
</div>
<div class="fragment" data-markdown>
```http
Content-Type: application/json; charset=utf-8
```
</div>
</section>

<section>
	<h1> Recap </h1>
	<ul>
		<li class="fragment"> Unicode characters are <strong>code points</strong> (numbers) </li>
		<li class="fragment"> <strong>Character encodings</strong> convert Unicode and bytes </li>
		<li class="fragment"> <strong>Recommendation</strong>: Use Python 3 </li>
		<li class="fragment"> <strong>Recommendation</strong>: Use UTF-8 </li>
		<li class="fragment"> <strong>Recommendation</strong>: Explicitly specify character encoding </li>
	</ul>
</section>

<section>
	<h1> ASK ME QUESTIONS </h1>
	<small> About Unicode, Python, and the intersection thereof! </small>
</section>

<!-- Q: What is the difference between ASCII and Unicode? -->
<!-- Q: What happens if I don't use the proper encoding? -->
<!-- A: Confusion, Mojibake. -->
<!-- Q: How do I explicitly specify the encoding? -->
<!-- A: open(encoding="UTF-8"), <html charset="UTF-8"> <xml encoding="UTF-8">
	JSON: encoding /must/ be UTF-8 -> reject things that aren't valid UTF-8
-->
<!-- Q: What if I don't specify an encoding? -->
<!-- A: Mojibake! Show common example of UTF-8 smart quotes rendered in Latin-1 -->
<!-- Q: What if the language I need is not in Unicode? -->
<!-- Q: How do I deal with mistakes in legacy code? -->
<!-- Q: What are some tricks I can take advantage of? -->
<!-- Q: Are there any downsides to these tricks? -->
<!-- Q: How can I make it easier for future programmers to deal with my
	encoding issue? -->
<!-- A: Explicitly specify your encoding! Use UTF-8! -->
<!-- Q: What do I do about symbols that really really resemble each other? -->
<!-- A: Normalization - e.g., Greek semi-colon, Vietnamese, etc. -->
<!-- A: Quick tip: MySQL: use utf8mb4 -->
<!-- Q: What encoding should I use? -->
<!-- A: UTF-8 -->
<!-- Q: How do I test whether a system supports Unicode? -->
<!-- A: Quick smoketest: Put in a üí© emoji and try to get it back. Why? U+1F4A9 PILE OF POO. -->


<section data-markdown>
	# Extra links!

	[Unicode! And how ES6 can help!](http://www.eddieantonio.ca/unicode-es6/)
</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				history: true,
				slideNumber: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
